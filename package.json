{
  "description": "OpenCRVS core workspace",
  "license": "MPL-2.0",
  "version": "1.9.0",
  "private": true,
  "os": [
    "darwin",
    "linux"
  ],
  "engines": {
    "node": "22.x.x",
    "yarn": "Please use pnpm. Install pnpm with 'npm install -g pnpm'."
  },
  "scripts": {
    "start": "lerna run build --scope @opencrvs/commons && lerna run build --scope @opencrvs/components && lerna run --stream --parallel --ignore @opencrvs/mobile-proxy $OTHER_LERNA_FLAGS start",
    "start:prod": "pnpm build && lerna run --stream --parallel --ignore @opencrvs/components --ignore @opencrvs/mobile-proxy $OTHER_LERNA_FLAGS start:prod",
    "dev": "bash development-environment/dev.sh",
    "dev:secrets:gen": "openssl genrsa -out .secrets/private-key.pem 2048 && openssl rsa -pubout -in .secrets/private-key.pem -out .secrets/public-key.pem",
    "open": "opener 'http://localhost:6060/' && opener 'http://localhost:3020/'",
    "lint": "lerna run lint",
    "test": "CI=true lerna run test --stream",
    "compose:deps:demo": "docker compose -p opencrvs -f docker-compose.deps.yml -f docker-compose.demo-deps.yml up",
    "compose:deps": "docker compose -p opencrvs -f docker-compose.deps.yml -f docker-compose.dev-deps.yml up",
    "compose:deps:detached": "docker compose -p opencrvs -f docker-compose.deps.yml -f docker-compose.dev-deps.yml up -d",
    "compose:down:deps": "docker compose -p opencrvs -f docker-compose.deps.yml -f docker-compose.dev-deps.yml down",
    "cov:client": "cd packages/client && pnpm open:cov",
    "cov:login": "cd packages/login && pnpm open:cov",
    "db:clear:all": "bash development-environment/clear-all-data.sh",
    "reindex": "bash development-environment/reindex.sh",
    "build": "lerna run build --stream && lerna run build-storybook",
    "build:image": "export VERSION=`git log -1 --pretty=format:%h` && docker build --build-arg VERSION=${VERSION} -t opencrvs-build . && unset VERSION",
    "build:clean": "lerna run build:clean",
    "check:license": "license-check-and-add check -f license-config.json",
    "seed:dev": "NODE_ENV=development lerna run seed --stream --scope @opencrvs/data-seeder",
    "seed:prod": "NODE_ENV=production lerna run seed --stream --scope @opencrvs/data-seeder",
    "add:license": "license-check-and-add add -f license-config.json",
    "build:components": "lerna run build --scope @opencrvs/components",
    "debug": "bash debug-service-in-chrome.sh"
  },
  "devDependencies": {
    "@eslint/eslintrc": "^3.3.1",
    "@types/dotenv": "^6.1.0",
    "@typescript-eslint/parser": "^8.33.1",
    "concurrently": "^8.0.0",
    "globals": "^16.2.0",
    "husky": "^9.1.6",
    "lerna": "^8.0.0",
    "lint-staged": "^15.2.10",
    "prettier": "3.5.3",
    "typescript": "5.6.3"
  },
  "dependencies": {
    "license-check-and-add": "^3.0.3",
    "opener": "^1.5.1",
    "postinstall-postinstall": "^2.0.0"
  },
  "resolutions": {
    "@types/react": "18.3.1",
    "fast-xml-parser": "4.4.1"
  },
  "pnpm": {
    "overrides": {
      "enzyme@^3.4.4>cheerio@1.0.0": "1.0.0-rc.12"
    },
    "onlyBuiltDependencies": [
      "@apollo/protobufjs",
      "@swc/core",
      "core-js",
      "core-js-pure",
      "cpu-features",
      "dtrace-provider",
      "ejs",
      "es5-ext",
      "esbuild",
      "iframe-resizer",
      "mongodb-memory-server",
      "msgpackr-extract",
      "msw",
      "ngrok",
      "nx",
      "postinstall-postinstall",
      "protobufjs",
      "ssh2",
      "unrs-resolver"
    ],
    "patchedDependencies": {
      "pdfmake@0.2.20": "patches/pdfmake@0.2.20.patch"
    }
  }
}
