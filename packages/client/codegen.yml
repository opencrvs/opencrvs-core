# This Source Code Form is subject to the terms of the Mozilla Public
# License, v. 2.0. If a copy of the MPL was not distributed with this
# file, You can obtain one at https://mozilla.org/MPL/2.0/.
#
# OpenCRVS is also distributed under the terms of the Civil Registration
# & Healthcare Disclaimer located at http://opencrvs.org/license.
#
# Copyright (C) The OpenCRVS Authors. OpenCRVS and the OpenCRVS
# graphic logo are (registered/a) trademark(s) of Plan International.
overwrite: true
schema:
  - http://localhost:7070/graphql:
      headers:
        Authorization: 'Bearer ${TOKEN}'
documents:
  - 'src/**/*.ts*'
  - '!src/utils/gateway.ts'
  - '!src/**/*.test.ts*'
generates:
  src/utils/gateway.ts:
    plugins:
      - add:
          content: |
            /*
             * This Source Code Form is subject to the terms of the Mozilla Public
             * License, v. 2.0. If a copy of the MPL was not distributed with this
             * file, You can obtain one at https://mozilla.org/MPL/2.0/.
             *
             * OpenCRVS is also distributed under the terms of the Civil Registration
             * & Healthcare Disclaimer located at http://opencrvs.org/license.
             *
             * Copyright (C) The OpenCRVS Authors. OpenCRVS and the OpenCRVS
             * graphic logo are (registered/a) trademark(s) of Plan International.
             */

            /*
             * DO NOT EDIT! This file is auto-generated by yarn generate-gateway-types - see `codegen.yml`
             */

      - 'typescript'
      - 'typescript-operations'

  ./graphql.schema.json:
    plugins:
      - 'introspection'
